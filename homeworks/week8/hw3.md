## 什麼是 Ajax？

Ajax 是 Asynchrous JavaScript and XML 的簡稱，中文的意思是「非同步的 JavaScript 和 XML」。其中關於「非同步」的特性，是開發者為何運用 Ajax 與 server 取得資料的原因。

首先，先來了解「同步」的概念。JavaScript 在執行程式時，是一行一行執行，意思是說，當 JavaScript 執行到某一行的時候，會等某行執行完畢，才執行到下一行，確保執行順序。所以，如果我們透過 API 發送 request 到 server 拿取資料時，在程式是一行一行執行的前提之下，就必須要等待 response 回覆，才能繼續執行下一行；在這等待期間，點擊任何有牽涉到 JavaScript 的東西，都不會有反應，也造成頁面載入耗時，操作上穩定等問題，進而影響了使用者體驗。

而「非同步」則是透過「非同步」頁面載入資料的方式，當我們發送 request 之後，不用等待 response 回來，頁面同時可以去執行其他程式，若是 response 回來之後，再透過 callback function，又稱「回呼函式」，
來處理回傳的資料。而 Ajax 即是運用「非同步」的重要特性，來處理從 server 傳回的資料。網頁不用換頁即可讓畫面部分改變，有效提升了網頁的互動性及速度。

## 用 Ajax 與我們用表單送出資料的差別在哪？

* 表單送出資料的方式，會透過 HTML 上的 form 元素，來與 server 交換資料。每次執行資料交換、回傳之後，瀏覽器會另開啟一個頁面；若只是想要執行畫面部分的調整或改變，而沒有要全頁面的話，會影響使用者體驗的不方便，也會造成頁面 loading 上的耗時。

* 而 Ajax 與表單不同的地方是，當 Ajax 發出 request  與 server 交換資料時，由於 Ajax 「非同步」的特性，所以當拿到 server 回傳資料，會在原本頁面呈現，無需換頁，部分畫面也可以即時調整跟改變。

## JSONP 是什麼？

JSONP 是 JSON with Padding 的簡稱，是一種跨網域存取資料的方法。瀏覽器因為設置同源政策（same-origin policy）的限制，只允許同一網域互相存取資料，以確保網路安全性。但卻有些東西是不受到同源政策的限制，例如 ```<script>```這個 Tag。透過在```<script>```裡面寫好的 function 及定義取得資料的型態等，與 server 交換相關資料，達到跨網域的請求。


## 要如何存取跨網域的 API？

* CORS 全名為 Cross-Origin Resource，中文稱為跨來源資源共享。我們知道在受到瀏覽器上同源政策的限制，在不同網域之間無法隨意交換資料。因次，若是想要在不同 origin 之間傳輸資料的話，即可透過 CORS。當你想要開啟跨來源的請求時，server 必須在 response 的 Header 裡面加上```Access-Control-Allow-origin```；當瀏覽器收到 response 之後，會先檢查```Access-Control-Allow-origin```裡面的內容，如果裡面有包含目前發起 request 的 origin 的話，就會允許通過，讓程式順利接收到 response，並呈現在網路頁面上。

* JSONP 也可以存取跨來源的資料，不過會有一個缺點是你要帶的參數會直接附加在網址上（透過 GET 方式帶過去），沒辦法使用 POST ，這樣也許會產生資料隱私的疑慮。


## 為什麼我們在第四週時沒碰到跨網域的問題，這週卻碰到了？

第八週的學習，主要是透過瀏覽器來與 server  進行資料交換。由於瀏覽器同源政策（same-origin policy）的限制，必須要遵守相關規範及使用適當的方式來取得資料；而第四週，因為是使用 nodi.js 來與 server 進行資料交換，中間完全沒有瀏覽器作為中介，所以也就不會受到瀏覽器的同源政策的規範而產生的跨網域資料存取的問題。

